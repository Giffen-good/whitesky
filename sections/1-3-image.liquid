{%- comment -%}
  This is a required section for the Shopify Theme Store.
  It is available when you add the "Image with text" section in the theme editor.

  Theme Store required settings
  - Image
  - Heading: 1-3 Image Block
  - Text: 3 Column image block 

  Theme Store optional settings
  - Button label: label associated with the button
  - Button link: link of the button
{%- endcomment -%}
<section class="three-up x xjs xw w100">
{% assign count = 0 %}
{% for block in section.blocks %}

 

  <div class="image-with-text__text x1033 tile psr hw16-9 inc-{{count}}">
  	{% if block.settings.image %}
  		<img src="{{ block.settings.image | img_url:'1500x900' }}" class="p1 pb0 psa ofc c w100 h100 " />
  	
  	{% endif %}
    <div class="psa  cw c">
      {% if block.settings.title != blank %}
        <h2 class=' m0 tac pb0-5'>{{ block.settings.title | escape }}</h2>
      {% endif %}

      {% if block.settings.link != blank %}
        <a class="cw mr1 underline" href="{{ block.settings.link }}">{{ block.settings.button_text }}
        </a>
      {% endif %}
      
      {% if block.settings.link_2 != blank %}
        <a class="cw ml1 underline" href="{{ block.settings.link_2 }}">{{ block.settings.button_text_2 }}
        </a>
      {% endif %}
    </div>
   
  </div> 
  {% if count == 2 %}
    {% assign count = 0 %}
  {% else %}
     {% assign count = count | plus: 1 %}
  {% endif %}
{% endfor %}
</section>

{% schema %}
{

    "class": "w100",
    "blocks": [
      {
    "name": "three item row",
    "type": "image",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "1/3 size image"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Link 1 text",
        "default": "Link 1 text"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Button link"
      },
      {
        "type": "text",
        "id": "button_text_2",
        "label": "Link 2 Text",
        "default": "Link 2 text"
      },
      {
        "type": "url",
        "id": "link_2",
        "label": "Button link"
      }

    ]
    
  }
    ]
}



 
{% endschema %}
